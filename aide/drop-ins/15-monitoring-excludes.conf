# AIDE Drop-in: Monitoring Stack Excludes
# Copyright (c) 2025-2026 Marc Allgeier (fidpa)
# SPDX-License-Identifier: MIT
#
# Monitoring tools-specific excludes for AIDE
# Prevents false-positives from metrics collection and dashboard state

# Prometheus time-series database
# Write-Ahead Log (WAL) changes every 2 hours
!/var/lib/prometheus/wal
!/opt/monitoring/prometheus/wal
!/opt/prometheus/wal

# Prometheus query state
!/var/lib/prometheus/queries.active
!/opt/monitoring/prometheus/queries.active

# Prometheus chunks (time-series data)
!/var/lib/prometheus/chunks_head
!/opt/monitoring/prometheus/chunks_head

# Grafana dashboard database
# Changes on every dashboard view/edit
!/var/lib/grafana/grafana.db
!/opt/monitoring/grafana/grafana.db

# Grafana sessions
!/var/lib/grafana/sessions
!/opt/monitoring/grafana/sessions

# Grafana plugins cache
!/var/lib/grafana/plugins
!/opt/monitoring/grafana/plugins

# Uptime Kuma monitoring data
!/var/lib/uptime-kuma/data
!/opt/monitoring/uptime-kuma/data

# Portainer container management
!/var/lib/portainer
!/opt/monitoring/portainer-health

# Node Exporter textfile collector (metrics)
# Updated every collection interval (1-5 minutes)
!/var/lib/node_exporter/textfile_collector/.*\.prom$

# Monitor monitoring configuration (but not data)
/etc/prometheus Full
/etc/grafana Full
/var/lib/prometheus VarDir
/var/lib/grafana VarDir
